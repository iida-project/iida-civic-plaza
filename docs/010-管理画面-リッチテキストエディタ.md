# 010 管理画面 - リッチテキストエディタ（Tiptap）

## 概要
記事作成・編集用のリッチテキストエディタを実装する。WordPressのような編集体験を提供。

## 関連要件
- 見出し、リスト、テーブル等の基本的な書式
- 画像挿入（Supabase Storage連携）
- 使いやすいUI

## 技術仕様

### 使用技術
- Tiptap（リッチテキストエディタ）
- @tiptap/react
- @tiptap/starter-kit（基本機能セット）
- @tiptap/extension-table（テーブル機能）
- @tiptap/extension-image（画像機能）
- @tiptap/extension-link（リンク機能）

### 対応する書式
```
基本:
- 見出し（H1〜H4）
- 段落
- 太字・斜体・下線
- 箇条書きリスト
- 番号付きリスト
- 引用ブロック
- 水平線

拡張:
- テーブル（行・列の追加/削除）
- 画像挿入
- リンク
- コードブロック（オプション）
```

### コンポーネント構成
```
src/components/admin/editor/
├─ RichTextEditor.tsx    # メインエディタ
├─ EditorToolbar.tsx     # ツールバー
├─ ImageUpload.tsx       # 画像アップロードモーダル
└─ TableMenu.tsx         # テーブル操作メニュー
```

### データ形式
- 保存形式: HTML文字列
- DBカラム: `body TEXT`（既存）

### 画像アップロードフロー
```
1. ツールバーの画像ボタンクリック
2. ファイル選択ダイアログ
3. Supabase Storage にアップロード
4. 公開URLを取得
5. エディタに画像挿入
```

## Todo
- [ ] Tiptap パッケージインストール
- [ ] RichTextEditor コンポーネント作成
- [ ] EditorToolbar 作成（書式ボタン）
- [ ] テーブル機能実装
- [ ] 画像アップロード機能実装
- [ ] リンク挿入機能実装
- [ ] スタイリング（エディタ内CSS）

## 完了条件
- 基本的な書式設定ができる
- テーブルの作成・編集ができる
- 画像をアップロードして挿入できる
- 保存したHTMLが正しく表示される

## 備考
- 公開サイトでの表示用CSSも必要（036チケット）
- 将来的にYouTube埋め込み等の拡張可能
