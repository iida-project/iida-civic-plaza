# 010 管理画面 - リッチテキストエディタ（Tiptap）

## 概要
記事作成・編集用のリッチテキストエディタを実装する。WordPressのような編集体験を提供。

## 関連要件
- 見出し、リスト、テーブル等の基本的な書式
- 画像挿入（Supabase Storage連携）
- 使いやすいUI

## 技術仕様

### 使用技術
- Tiptap（リッチテキストエディタ）
- @tiptap/react
- @tiptap/starter-kit（基本機能セット）
- @tiptap/extension-table（テーブル機能）
- @tiptap/extension-image（画像機能）
- @tiptap/extension-link（リンク機能）
- @tiptap/extension-placeholder（プレースホルダー）

### 対応する書式
```
基本:
- 見出し（H1〜H3）
- 段落
- 太字・斜体・取り消し線
- 箇条書きリスト
- 番号付きリスト
- 引用ブロック
- 水平線

拡張:
- テーブル（3x3で挿入、編集可能）
- 画像挿入
- リンク
```

### コンポーネント構成
```
src/components/admin/editor/
├─ RichTextEditor.tsx    # メインエディタ
├─ EditorToolbar.tsx     # ツールバー
└─ index.ts              # エクスポート
```

### 使い方
```tsx
import { RichTextEditor } from '@/components/admin/editor'

<RichTextEditor
  content={htmlContent}
  onChange={(html) => setContent(html)}
  placeholder="本文を入力..."
  onImageUpload={async () => {
    // 画像アップロード処理
    return 'https://...' // 画像URL
  }}
/>
```

### データ形式
- 保存形式: HTML文字列
- DBカラム: `body TEXT`（既存）

## Todo
- [x] Tiptap パッケージインストール
- [x] RichTextEditor コンポーネント作成
- [x] EditorToolbar 作成（書式ボタン）
- [x] テーブル機能実装
- [x] リンク挿入機能実装
- [x] スタイリング（エディタ内CSS）
- [ ] 画像アップロード機能（011で実装予定）

## 完了条件
- 基本的な書式設定ができる
- テーブルの作成・編集ができる
- 保存したHTMLが正しく表示される

## 作成したファイル
- `src/components/admin/editor/RichTextEditor.tsx`
- `src/components/admin/editor/EditorToolbar.tsx`
- `src/components/admin/editor/index.ts`
- `src/app/globals.css`（Tiptapスタイル追加）

## 備考
- 画像アップロードは各CRUD画面で実装時に連携
- 公開サイトでの表示用CSSも必要（036チケット）
