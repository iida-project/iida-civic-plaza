# 018 Supabase 同期フック基盤

## 概要
Payload CMS から Supabase への同期フックの共通基盤を実装する。

## 関連要件
- REQUIREMENTS.md: 12. Supabase 同期フック
- REQUIREMENTS.md: 12-1. 同期の基本方針

## 技術仕様
- afterChange フック
- Lexical → HTML 変換
- Upsert（存在すれば更新、なければ挿入）

## Todo
- [ ] Supabase クライアント設定（サーバーサイド用）
- [ ] syncToSupabase 基本フック作成
- [ ] Lexical → HTML 変換ユーティリティ作成
- [ ] 公開状態チェックロジック実装
- [ ] 論理削除処理（is_published = false）
- [ ] エラーハンドリング実装
- [ ] ログ出力設定

## 完了条件
- 公開時のみ Supabase に同期される
- 非公開時は論理削除される
- リッチテキストが HTML に変換される

## 備考
- REQUIREMENTS.md 12-2 の実装例を参照
