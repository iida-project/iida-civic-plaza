# 035 画像ギャラリーコンポーネント実装

## 概要
詳細ページで使用する画像ギャラリーを実装する。

## 関連要件
- REQUIREMENTS.md: 4-2. 市民活動紹介 - 活動写真
- REQUIREMENTS.md: 15-1. パフォーマンス - 画像最適化

## 技術仕様
- Next.js Image（最適化・遅延読み込み）
- Framer Motion（アニメーション）
- ライトボックス（拡大表示）
- 共通コンポーネントとして `src/components/common` に配置

## Todo
- [x] ImageGallery コンポーネント作成
- [x] サムネイル一覧表示
- [x] ライトボックス（モーダル拡大表示）
- [x] キーボードナビゲーション（←→キー、Escキー）
- [x] スワイプ対応（モバイル）
- [x] 画像遅延読み込み
- [x] レスポンシブ対応
- [x] 既存ページを共通コンポーネントに移行
- [x] ビルド確認

## 完了条件
- [x] 画像一覧が表示される
- [x] クリックで拡大表示される
- [x] モバイルでスワイプできる

## 実装詳細

### ファイル構成
```
src/components/common/
├── index.ts
└── ImageGallery.tsx    # 画像ギャラリーコンポーネント
```

### Props

| プロパティ | 型 | 必須 | 説明 |
|-----------|-----|------|------|
| `images` | `string[]` | ○ | 画像URLの配列 |
| `alt` | `string` | ○ | 画像のalt属性のベース |
| `title` | `string` | - | ギャラリーのタイトル（デフォルト: "画像ギャラリー"） |
| `titleIcon` | `LucideIcon` | - | タイトルのアイコン（デフォルト: Images） |
| `columns` | `2 \| 3 \| 4` | - | グリッドのカラム数（デフォルト: 4） |

### 使用例

```tsx
import { ImageGallery } from '@/components/common'

<ImageGallery
  images={galleryImages}
  alt="団体名の活動写真"
  title="活動の様子"
  columns={4}
/>
```

### 機能
- **サムネイルグリッド**: 2〜4カラムのレスポンシブグリッド
- **ライトボックス**: クリックで拡大表示、背景クリックで閉じる
- **キーボード操作**: ←→で前後移動、Escで閉じる
- **スワイプ操作**: モバイルで左右スワイプで前後移動
- **カウンター**: 「1 / 5」形式で現在位置を表示
- **操作ヒント**: デスクトップでキーボード操作のヒントを表示
- **スクロール制御**: ライトボックス表示中は背景スクロールを無効化

### 使用ページ
- `/activities/[slug]` - 市民活動詳細ページ
- `/interviews/[slug]` - インタビュー詳細ページ

## 備考
- アクセシビリティ対応（role="dialog", aria-modal, aria-label）
- 画像が1枚の場合はナビゲーションボタン非表示
