# 034 フィルターコンポーネント実装

## 概要
一覧ページで使用するフィルター・ソートUIを実装する。

## 関連要件
- REQUIREMENTS.md: 8. 検索・フィルタ機能
- REQUIREMENTS.md: 5-3. 記事一覧ページの絞り込み

## 技術仕様
- URL SearchParams による状態管理
- Framer Motion アニメーション
- 共通コンポーネントとして `src/components/common` に配置

## Todo
- [x] activities/FilterSection 作成済み（activities実装時）
- [x] grants/FilterSection 作成済み（grants実装時）
- [x] 共通フィルターコンポーネント作成
  - FilterContainer
  - FilterSection
  - ChipFilter
  - SortButtons
  - ClearFilterButton
  - ResultCount
- [x] useFilterParams カスタムフック
- [x] ビルド確認

## 完了条件
- [x] フィルターが正しく動作する
- [x] URLが更新される
- [x] ページリロードでも状態が維持される

## 実装詳細

### ファイル構成
```
src/components/common/
├── index.ts
└── FilterComponents.tsx    # 共通フィルターコンポーネント群

src/app/(frontend)/
├── activities/_components/FilterSection.tsx  # 活動分野・エリアフィルター
└── grants/_components/FilterSection.tsx      # 募集終了表示・ソート
```

### 共通コンポーネント一覧

| コンポーネント | 用途 |
|--------------|------|
| `FilterContainer` | フィルターのラッパー（アニメーション付き） |
| `FilterSection` | アイコン + タイトル + コンテンツのセクション |
| `ChipFilter` | チップ形式のフィルターボタン群 |
| `SortButtons` | ソート切り替えボタン |
| `ClearFilterButton` | フィルタークリアボタン |
| `ResultCount` | 件数表示 |

### カスタムフック

```tsx
import { useFilterParams } from '@/components/common'

const { updateParam, toggleParam, clearAll, getParam } = useFilterParams('/activities')

// パラメータを更新
updateParam('category', 'welfare')

// トグル（同じ値なら削除）
toggleParam('area', 'kamiina')

// 全クリア
clearAll()

// 値を取得
const category = getParam('category')
```

## 備考
- 既存の個別FilterSectionはそのまま維持（ページに最適化されているため）
- 共通コンポーネントは新規フィルター作成時に使用
- Phase1 はシンプルなフィルタリングのみ
